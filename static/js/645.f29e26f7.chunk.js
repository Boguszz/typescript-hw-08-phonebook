"use strict";(self.webpackChunkphonebook=self.webpackChunkphonebook||[]).push([[645],{4645:function(n,t,e){e.r(t),e.d(t,{default:function(){return rn}});var r,o,i,a,c,l,s,u,d,f,x,g,p,h,v=e(7947),m=e(9815),b=e(168),j=e(2499),Z=j.Z.label(r||(r=(0,b.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  margin-bottom: 50px;\n"]))),k=j.Z.p(o||(o=(0,b.Z)(["\n  font-weight: 600;\n  color: var(--main-text-color);\n  margin-bottom: 5px;\n"]))),C=j.Z.input(i||(i=(0,b.Z)(["\n  width: 95%;\n  height: 40px;\n  padding: 0 10px 0 10px;\n\n  border: 1px solid var(--second-bg-color);\n  outline: none;\n\n  color: var(--main-text-color);\n  font-size: 14px;\n\n  :focus {\n    border-color: var(--accent-bg-color);\n  }\n\n  ::placeholder {\n    font-size: 12px;\n    color: var(--main-text-color);\n  }\n"]))),P=e(8511),w=e(9911),y=e(2791),A=e(184),S=function(){var n=(0,w.T)();return(0,A.jsxs)(Z,{children:[(0,A.jsx)(k,{children:"Find contacts by name"}),(0,A.jsx)(C,{type:"text",onChange:function(t){var e=t.currentTarget.value;n((0,P.M6)(e))},name:"filter"})]})},L=e(9565),Y=function(){var n,t=(0,v.wY)().data,e=(0,L.C)((function(n){return function(n){return n.contacts.filter}(n)})),r=null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.contacts;return{filteredContactList:function(){var n=e.toLowerCase();return r&&r.filter((function(t){var e;return null===t||void 0===t||null===(e=t.name)||void 0===e?void 0:e.toLowerCase().includes(n)}))}()}},z=e(885),I=function(n){var t=n.contentPerPage,e=n.count,r=(0,y.useState)(1),o=(0,z.Z)(r,2),i=o[0],a=o[1],c=(0,y.useState)({before:!1,paginationGroup:[],after:!0}),l=(0,z.Z)(c,2),s=l[0],u=l[1],d=(0,y.useState)([]),f=(0,z.Z)(d,2),x=f[0],g=f[1],p=Math.ceil(e/t),h=i*t,v=h-t;(0,y.useEffect)((function(){if(p>2){var n=new Array(p-2).fill(1).map((function(n,t){return t+2}));g(n)}}),[p]),(0,y.useEffect)((function(){var n=x.indexOf(i),t=[],e=!1,r=!1;t=1===i?x.slice(0,3):i===p||i===p-1||i===p-2?x.slice(-3,p):2===i?x.slice(n,n+3):[i-1,i,i+1],p<=5?(e=!1,r=!1):(e=!1,r=!1,t[0]>2&&(e=!0),t[2]<p-1&&(r=!0)),u({paginationGroup:t,before:e,after:r})}),[i,p,x]);var m=function(n){a((function(t){return n?t===p?t:t+1:1===t?t:t-1}))};return{totalPages:p,nextPage:function(){return m(!0)},prevPage:function(){return m(!1)},setPage:function(n){a(n>p?p:n<1?1:n)},firstContentIndex:v,lastContentIndex:h,page:i,gaps:s}},R=function(n){var t=(0,y.useState)(null),e=(0,z.Z)(t,2),r=e[0],o=e[1];console.log(r);var i="Date creation",a="Alphabet A-Z",c="Alphabet Z-A";return{sort:function(){switch(r){case i:return n.sort((function(n,t){return n.createdAt>t.createdAt?-1:1}));case a:return n.sort((function(n,t){return n.name<t.name?-1:1}));case c:return n.sort((function(n,t){return n.name>t.name?-1:1}));default:return}},getValue:function(n){return o(n)}}},V=e(6205),E=e(7585),F=e(3078),G=j.Z.div(a||(a=(0,b.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),T=j.Z.button(c||(c=(0,b.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 30px;\n  height: 30px;\n  margin-right: 7px;\n\n  background-color: ",";\n  color: var(--second-text-color);\n  font-family: inherit;\n  border: none;\n\n  cursor: pointer;\n  transition: opacity var(--main-hover-animation);\n  opacity: 1;\n\n  :hover,\n  :focus {\n    opacity: 0.7;\n  }\n\n  :last-child {\n    margin-right: 0;\n  }\n\n  @media screen and (min-width: 768px) {\n    width: 40px;\n    height: 40px;\n    margin-right: 15px;\n  }\n"])),(function(n){var t=n.background;return t||"var(--accent-bg-color)"})),D=j.Z.p(l||(l=(0,b.Z)(["\n  margin-right: 7px;\n\n  @media screen and (min-width: 768px) {\n    margin-right: 15px;\n  }\n"]))),M=e(8617),O=function(n){n.contentPerPage,n.filteredContactList;var t=n.prevPage,e=n.page,r=n.setPage,o=n.gaps,i=n.totalPages,a=n.nextPage;return(0,A.jsxs)(G,{children:[(0,A.jsx)(T,{onClick:t,children:(0,A.jsx)(M.siY,{})}),1===e?(0,A.jsx)(T,{background:"#000000",onClick:function(){return r(1)},children:"1"}):(0,A.jsx)(T,{onClick:function(){return r(1)},children:"1"}),o.before?(0,A.jsx)(D,{children:"..."}):null,o.paginationGroup.map((function(n){return e===n?(0,A.jsx)(T,{background:"#000000",onClick:function(){return r(n)},children:n},n):(0,A.jsx)(T,{onClick:function(){return r(n)},children:n},n)})),o.after?(0,A.jsx)(D,{children:"..."}):null,e===i?(0,A.jsx)(T,{background:"#000000",onClick:function(){return r(i)},children:i}):(0,A.jsx)(T,{onClick:function(){return r(i)},children:i}),(0,A.jsx)(T,{onClick:a,children:(0,A.jsx)(M.WFu,{})})]})},Q=e(4373),U=j.Z.div(s||(s=(0,b.Z)(["\n  width: 100%;\n\n  border: 1px solid var(--second-bg-color);\n  color: var(--main-text-color);\n\n  cursor: default;\n  overflow: hidden;\n  z-index: 99;\n\n  @media screen and (max-width: 767px) {\n    margin-bottom: 30px;\n  }\n\n  @media screen and (min-width: 768px) {\n    position: absolute;\n    top: ",";\n    right: ",";\n    left: ",";\n    bottom: ",";\n\n    width: 270px;\n  }\n"])),(function(n){var t=n.top;return t||""}),(function(n){var t=n.right;return t||""}),(function(n){var t=n.left;return t||""}),(function(n){var t=n.bottom;return t||""})),W=j.Z.div(u||(u=(0,b.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  padding: 10px;\n"]))),_=j.Z.div(d||(d=(0,b.Z)(["\n  background-color: #fafafa;\n  padding: 10px;\n\n  transition: background var(--main-hover-animation),\n    color var(--main-hover-animation);\n  cursor: pointer;\n\n  :hover,\n  :focus {\n    background: var(--accent-bg-color);\n    color: var(--second-text-color);\n  }\n"]))),q=function(n){var t=n.options,e=n.label,r=n.top,o=n.bottom,i=n.left,a=n.right,c=n.getValue,l=(0,y.useState)(null),s=(0,z.Z)(l,2),u=s[0],d=s[1],f=(0,y.useState)(!1),x=(0,z.Z)(f,2),g=x[0],p=x[1],h=function(n){var t=n.currentTarget.textContent;d(t),c(t)};return(0,A.jsx)(U,{top:r,bottom:o,left:i,right:a,children:(0,A.jsxs)("div",{onClick:function(){return p((function(n){return!n}))},children:[(0,A.jsxs)(W,{children:[(0,A.jsx)("p",{children:u||e}),g?(0,A.jsx)(Q.RPR,{}):(0,A.jsx)(Q.yQg,{})]}),g&&(0,A.jsx)("div",{children:t.map((function(n){return(0,A.jsx)(_,{onClick:h,children:n},n)}))})]})})},B=j.Z.div(f||(f=(0,b.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),H=j.Z.ul(x||(x=(0,b.Z)(["\n  width: 100%;\n"]))),J=j.Z.li(g||(g=(0,b.Z)(["\n  margin-bottom: 20px;\n"]))),K=function(){var n=Y().filteredContactList,t=(0,v.wY)(),e=t.isFetching,r=t.error,o=t.refetch,i=R(n),a=i.sort,c=i.getValue,l=I({contentPerPage:10,count:n.length}),s=l.firstContentIndex,u=l.lastContentIndex,d=l.gaps,f=l.nextPage,x=l.page,g=l.prevPage,p=l.setPage,h=l.totalPages;return a(),(0,y.useEffect)((function(){o()}),[o]),(0,A.jsxs)(B,{children:[e&&(0,A.jsx)(E.Z,{}),r&&(0,A.jsx)(F.Z,{data:r,status:r}),(0,A.jsx)(q,{options:["Alphabet A-Z","Alphabet Z-A","Date creation"],label:"Sorting by...",top:"53px",right:"10px",getValue:c}),(0,A.jsx)(H,{children:n&&n.slice(s,u).map((function(n){var t=n._id,e=n.name,r=n.phone,o=n.email,i=n.favorite;return(0,A.jsx)(J,{children:(0,A.jsx)(V.Z,{id:t,name:e,phone:r,email:o,favorite:i})},t)}))}),(0,A.jsx)(O,{contentPerPage:3,filteredContactList:n,gaps:d,nextPage:f,page:x,prevPage:g,setPage:p,totalPages:h})]})},N=e(2950),X=e(3504),$=(0,j.Z)(X.rU)(p||(p=(0,b.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 270px;\n  height: 40px;\n  margin-bottom: 50px;\n\n  background-color: var(--accent-bg-color);\n  color: var(--second-text-color);\n  font-family: inherit;\n  border: none;\n\n  cursor: pointer;\n  transition: background-color var(--main-hover-animation);\n\n  :hover,\n  :focus {\n    background-color: var(--second-bg-color);\n  }\n"]))),nn=j.Z.span(h||(h=(0,b.Z)(["\n  margin-right: 10px;\n"]))),tn=e(9126),en=function(n){var t=n.text;return(0,A.jsxs)($,{to:"/contacts/add",children:[(0,A.jsx)(nn,{children:t}),(0,A.jsx)(tn.RYR,{size:20})]})},rn=function(){var n,t=(0,v.wY)().data,e=null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.contacts;return(0,A.jsxs)(m.Z,{title:"Contacts",children:[(0,A.jsx)(en,{text:"Add new contact"}),(0,A.jsx)(S,{}),e&&e.length>0?(0,A.jsx)(K,{}):(0,A.jsx)(N.Z,{message:"Contact list is empty."})]})}}}]);
//# sourceMappingURL=645.f29e26f7.chunk.js.map